---
title: "gdp_distribution"
output: html_document
date: "2023-08-09"
---
```{r}
library(dplyr)
library(stats)
library(tidyr)
library(purrr)
library(tsibble)
library(forecast)
```

```{r}
library(readxl)
ip <-read_excel("git/gdp_distribution/DP_LIVE_09082023174326289.xlsx",col_types = c("text", "text", "text", 
         "text", "text", "text", "numeric", 
         "skip"))
View(ip)
usGDPC1_1_ <- read_excel("git/gdp_distribution/GDPC1 (1).xlsx")
View(usGDPC1_1_)
```
```{r}
options(scipen = 999)
```

```{r}
ip <- ip %>%
  group_by(LOCATION) %>%
  mutate(growthrate = (Value - lag(Value, 1)) / lag(Value, 1))

usGDPC1_1_=usGDPC1_1_ %>%
  mutate(growthrate = ( realgdp- lag(realgdp, 1)) / lag(realgdp, 1))

```
```{r}
ip <- ip %>%
  mutate(TIME = yearmonth(TIME))

ip_ts <- ip %>%
  group_by(LOCATION) %>%
  slice(-1) %>%
  as_tsibble(key = "LOCATION", index = "TIME")
usGDPC1_1_ts <- usGDPC1_1_ %>%
  mutate(observation_date = as.Date(observation_date)) %>%
  as_tsibble(index = "observation_date", regular = TRUE)


```
```{r}
# Create the autocorrelation plot for lags from -6 to 6
Acf(ip_ts$growthrate, lag.max = 6, plot = TRUE)
# Create the autocorrelation plot for lags from -6 to 6
Acf(usGDPC1_1_$growthrate, lag.max = 6,, plot = TRUE)
```



